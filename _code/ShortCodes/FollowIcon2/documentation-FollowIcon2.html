<div class="alert alert-info"><strong>Tim Notes:</strong> Tim created this ShortCode by copying followicon on 28-MAY-2024. The reason is that Tim wanted a version of followicon that can also refresh/reload the current page.</div>

<p>Basic Usage:</p>
    <pre><code>{[ followicon2 entitytypeguid:'GUID' entityguid:'GUID' purposekey:'like' isfollowed:'true' ]}
    &lt;div class="followitem"&gt;
        &lt;i class="followicon"&gt;&lt;/i&gt;
    &lt;/div&gt;
{[ endfollowicon2 ]}
    </code></pre>
    
    <h4 id="shortcode-options">Shortcode Options</h4>
    <ul>
    <li><strong>entitytypeguid </strong>– The Guid of the Entity Type.</li>
    <li><strong>entityguid </strong>– The Guid of the Entity. </li>
    <li><strong>purposekey</strong> – An optional purpose key.</li>
    <li><strong>isfollowed</strong> (false) – A boolean to define if the entity is followed by the current person.</li>
    <li><strong>suppresswarnings</strong> (false) – Optionally, set to true to hide alerts when security and other errors are triggered.</li></ul>
    <h4 id="shortcode-output">Output</h4>
    <p>The output of the shortcode is a <code>followicon</code> div with a class of <code>isfollowed</code> that is added when the entity is followed.
    </p><pre><code>&lt;div class="followicon js-followicon" data-entitytype="{{entitytypeguid}}" data-entity="{{entityguid}}" data-followed="{{isfollowed}}"&gt;
    &lt;!-- Content --&gt;
&lt;/div&gt;</code></pre>

<h4 id="followingsecuritydocs">Security Configuration</h4>
<p>To use this shortcode, some security changes might be required in order to allow all authenticated users to follow entities.</p>
<ol>
<li>Go to <a href="/admin/security/rest" target="_blank">Admin Tools &gt; Security &gt; REST Controllers</a></li><li>Locate the row "Followings", and open the REST Controller Actions detail page.</li>
<li>From this screen locate the following methods, and allow "All Authenticated Users" for the edit verb on the following methods:
<ul>
<li><strong>DELETE</strong> <code>api/Followings/{entityTypeGuid}/{entityGuid}?purposeKey={purposeKey}</code></li>
<li><strong>POST</strong> <code>api/Followings/{entityTypeGuid}/{entityGuid}?purposeKey={purposeKey}</code></li>
</ul>
</li>
</ol>
<p>No other security changes are recommended.</p>